#!/bin/bash

clear && printf "\033c"

# Check if running with root privileges
if [ "$EUID" -ne 0 ]; then
    echo "Warning: Not running as root. Some devices might not be visible."
fi

# Print header
printf "\n%-18s %-11s %-10s %-10s %-12s %-20s\n" "Device" "Total" "Used" "Free" "Usage%" "Mount Point"
echo "--------------------------------------------------------------------------------"

# Get disk information using df with human-readable format and sort
df -h -P | grep "^/dev" | while read -r dfline; do
    device=$(echo "$dfline" | awk '{print $1}')
    device_name=$(basename "$device")
    total_h=$(echo "$dfline" | awk '{print $2}')
    used_h=$(echo "$dfline" | awk '{print $3}')
    free_h=$(echo "$dfline" | awk '{print $4}')
    usage=$(echo "$dfline" | awk '{print $5}')
    mount=$(echo "$dfline" | awk '{print $6}')
    
    printf "%-18s %-11s %-10s %-10s %-12s %-20s\n" "$device_name" "$total_h" "$used_h" "$free_h" "$usage" "$mount"
done | sort

printf "\nPress any key to exit..."
read -n 1 -s -r
clear && printf "\033c"
